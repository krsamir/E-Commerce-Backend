"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[479],{3479:function(e,r,n){n.r(r);var t=n(5861),a=n(885),s=n(1413),o=n(7757),i=n.n(o),d=n(2791),u=n(3044),l=n(6151),c=n(4708),m=n(7391),h=n(5705),p=n(905),x=n(3060),f=n(1889),b=n(4554),g=n(403),v=n(890),Z=n(6445),w=n(1979),j=n(7012),W=n(4569),y=n.n(W),P=n(4882),k=n(1924),S=n(184),T=p.Ry({name:p.Z_().required("Name is mandatory field."),username:p.Z_().email("Enter a valid email").required("Email is required"),mobile:p.Rx().min(1e9,"Mobile number cannot be less than 10 digits").max(9999999999,"Mobile Number cannot be more than 10 digits.").required("Mobile number is mandatory."),password:p.Z_().min(8,"Password should be of minimum 8 characters length").required("Password is required"),confirmPassword:p.Z_().oneOf([p.iH("password"),null],"Passwords must match")});function C(e){return(0,S.jsxs)(v.Z,(0,s.Z)((0,s.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,S.jsx)(x.Z,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var G=(0,w.Z)();r.default=(0,h.$j)(null,{successToast:k.Q,errorToast:k.J})((function(e){var r=(0,d.useState)(!1),n=(0,a.Z)(r,2),s=n[0],o=n[1],p=(0,d.useState)(""),w=(0,a.Z)(p,2),W=w[0],k=w[1],M=(0,h.TA)({initialValues:{name:"",username:"",mobile:"",password:"",confirmPassword:""},validationSchema:T,onSubmit:function(){var r=(0,t.Z)(i().mark((function r(n){var t;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.username,k(t),r.next=4,y().post("/auth/register",n).then((function(r){1===r.data.status&&(e.successToast(r.data.message),M.resetForm(),o(!0))})).catch((function(r){typeof r.response.data.reason===typeof[]?(0,P.ZP)((function(){return(0,S.jsx)("span",{children:r.response.data.reason.map((function(e,r){return(0,S.jsx)("div",{children:e},r)}))})}),{duration:9e3,position:"top-center",style:{borderRadius:"10px",background:"#333",color:"#fff"}}):e.errorToast(r.response.data.message)}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}),R=(0,d.useState)(""),N=(0,a.Z)(R,2),q=N[0],B=N[1],L=(0,d.useState)(""),E=(0,a.Z)(L,2),F=E[0],O=E[1];return(0,S.jsx)(j.Z,{theme:G,children:(0,S.jsxs)(Z.Z,{component:"main",maxWidth:"xs",children:[(0,S.jsx)(c.ZP,{}),(0,S.jsxs)(b.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,S.jsx)(u.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,S.jsx)(g.Z,{})}),(0,S.jsx)(v.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,S.jsx)(b.Z,{sx:{mt:3},children:(0,S.jsxs)("form",{onSubmit:M.handleSubmit,children:[(0,S.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(f.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{name:"name",fullWidth:!0,id:"name",label:"Full Name",autoFocus:!0,value:M.values.name,onChange:M.handleChange,error:M.touched.name&&Boolean(M.errors.name),helperText:M.touched.name&&M.errors.name,disabled:s})}),(0,S.jsx)(f.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,id:"username",label:"Email",name:"username",value:M.values.username,onChange:M.handleChange,error:M.touched.username&&Boolean(M.errors.username),helperText:M.touched.username&&M.errors.username,disabled:s})}),(0,S.jsx)(f.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,id:"mobile",label:"Mobile No",name:"mobile",value:M.values.mobile,onChange:M.handleChange,error:M.touched.mobile&&Boolean(M.errors.mobile),helperText:M.touched.mobile&&M.errors.mobile,disabled:s})}),(0,S.jsx)(f.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:M.values.password,onChange:M.handleChange,error:M.touched.password&&Boolean(M.errors.password),helperText:M.touched.password&&M.errors.password,disabled:s})}),(0,S.jsx)(f.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:M.values.confirmPassword,onChange:M.handleChange,error:M.touched.confirmPassword&&Boolean(M.errors.confirmPassword),helperText:M.touched.confirmPassword&&M.errors.confirmPassword,disabled:s})})]}),!s&&(0,S.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),s&&(0,S.jsx)("div",{style:{marginTop:"15px"},children:(0,S.jsx)(f.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:q,onChange:function(r){if(r.target.value.length<=6&&(B(r.target.value),O("")),6===r.target.value.length){var n={username:W,token:r.target.value};setTimeout((0,t.Z)(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y().post("/auth/verify",n).then((function(r){0===r.data.status&&(O(r.data.message),B(""),e.errorToast(r.data.message3000)),1===r.data.status&&(e.successToast("Token Verification Successfull."),window.localStorage.setItem("sid",r.data.token),window.localStorage.setItem("rid",r.data.rid),setTimeout((function(){e.history.push("/profile")}),2e3))})).catch((function(r){console.log(r),429===r.response.status?e.errorToast(r.response.data,{duration:6e3}):e.errorToast("Some issue while OTP Verification!!")}));case 2:case"end":return r.stop()}}),r)}))),200)}},error:F.length>0,helperText:F,inputProps:{maxLength:6}})})}),!s&&(0,S.jsx)(f.ZP,{container:!0,justifyContent:"flex-end",children:(0,S.jsx)(f.ZP,{item:!0,children:(0,S.jsx)(x.Z,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})})]}),(0,S.jsx)(C,{sx:{mt:5}})]})})}))},1924:function(e,r,n){n.d(r,{Q:function(){return i},J:function(){return d}});var t=n(5861),a=n(7757),s=n.n(a),o=n(4327),i=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;return function(){var n=(0,t.Z)(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:o.G,payload:{message:e,duration:r}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;return function(){var n=(0,t.Z)(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:o.W,payload:{message:e,duration:r}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},6445:function(e,r,n){n.d(r,{Z:function(){return b}});var t=n(4942),a=n(3366),s=n(7462),o=n(2791),i=n(8182),d=n(767),u=n(3736),l=n(7630),c=n(5159);function m(e){return(0,c.Z)("MuiContainer",e)}(0,n(208).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var h=n(4036),p=n(184),x=["className","component","disableGutters","fixed","maxWidth"],f=(0,l.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r["maxWidth".concat((0,h.Z)(String(n.maxWidth)))],n.fixed&&r.fixed,n.disableGutters&&r.disableGutters]}})((function(e){var r=e.theme,n=e.ownerState;return(0,s.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,t.Z)({paddingLeft:r.spacing(2),paddingRight:r.spacing(2)},r.breakpoints.up("sm"),{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}))}),(function(e){var r=e.theme;return e.ownerState.fixed&&Object.keys(r.breakpoints.values).reduce((function(e,n){var t=r.breakpoints.values[n];return 0!==t&&(e[r.breakpoints.up(n)]={maxWidth:"".concat(t).concat(r.breakpoints.unit)}),e}),{})}),(function(e){var r=e.theme,n=e.ownerState;return(0,s.Z)({},"xs"===n.maxWidth&&(0,t.Z)({},r.breakpoints.up("xs"),{maxWidth:Math.max(r.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,t.Z)({},r.breakpoints.up(n.maxWidth),{maxWidth:"".concat(r.breakpoints.values[n.maxWidth]).concat(r.breakpoints.unit)}))})),b=o.forwardRef((function(e,r){var n=(0,u.Z)({props:e,name:"MuiContainer"}),t=n.className,o=n.component,l=void 0===o?"div":o,c=n.disableGutters,b=void 0!==c&&c,g=n.fixed,v=void 0!==g&&g,Z=n.maxWidth,w=void 0===Z?"lg":Z,j=(0,a.Z)(n,x),W=(0,s.Z)({},n,{component:l,disableGutters:b,fixed:v,maxWidth:w}),y=function(e){var r=e.classes,n=e.fixed,t=e.disableGutters,a=e.maxWidth,s={root:["root",a&&"maxWidth".concat((0,h.Z)(String(a))),n&&"fixed",t&&"disableGutters"]};return(0,d.Z)(s,m,r)}(W);return(0,p.jsx)(f,(0,s.Z)({as:l,ownerState:W,className:(0,i.Z)(y.root,t),ref:r},j))}))}}]);
//# sourceMappingURL=479.273b238e.chunk.js.map