"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[479],{3479:function(e,r,n){n.r(r),n.d(r,{default:function(){return q}});var a=n(5861),s=n(885),o=n(1413),t=n(7757),i=n.n(t),l=n(2791),d=n(3044),u=n(6151),c=n(4708),m=n(4111),h=n(5705),x=n(1089),f=n(3060),p=n(1889),Z=n(4554),b=n(403),g=n(890),w=n(6445),j=n(1979),P=n(7012),v=n(4569),y=n.n(v),C=n(4882),S=n(184),T=x.Ry({name:x.Z_().required("Name is mandatory field."),username:x.Z_().email("Enter a valid email").required("Email is required"),mobile:x.Rx().min(1e9,"Mobile number cannot be less than 10 digits").max(9999999999,"Mobile Number cannot be more than 10 digits.").required("Mobile number is mandatory."),password:x.Z_().min(8,"Password should be of minimum 8 characters length").required("Password is required"),confirmPassword:x.Z_().oneOf([x.iH("password"),null],"Passwords must match")});function k(e){return(0,S.jsxs)(g.Z,(0,o.Z)((0,o.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,S.jsx)(f.Z,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var W=(0,j.Z)();function q(e){var r=(0,l.useState)(!1),n=(0,s.Z)(r,2),o=n[0],t=n[1],x=(0,l.useState)(""),j=(0,s.Z)(x,2),v=j[0],q=j[1],B=(0,h.TA)({initialValues:{name:"",username:"",mobile:"",password:"",confirmPassword:""},validationSchema:T,onSubmit:function(){var e=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.username,q(n),e.next=4,y().post("/auth/register",r).then((function(e){1===e.data.status&&(C.ZP.success(e.data.message,{duration:6e3}),B.resetForm(),t(!0))})).catch((function(e){typeof e.response.data.reason===typeof[]?(0,C.ZP)((function(){return(0,S.jsx)("span",{children:e.response.data.reason.map((function(e,r){return(0,S.jsx)("div",{children:e},r)}))})}),{duration:9e3,position:"top-center",style:{borderRadius:"10px",background:"#333",color:"#fff"}}):C.ZP.error(e.response.data.message,{duration:6e3,position:"top-center",style:{borderRadius:"10px",background:"#333",color:"#fff"}})}));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}),E=(0,l.useState)(""),F=(0,s.Z)(E,2),M=F[0],N=F[1],R=(0,l.useState)(""),_=(0,s.Z)(R,2),I=_[0],O=_[1];return(0,S.jsxs)(P.Z,{theme:W,children:[(0,S.jsx)(C.x7,{}),(0,S.jsxs)(w.Z,{component:"main",maxWidth:"xs",children:[(0,S.jsx)(c.ZP,{}),(0,S.jsxs)(Z.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,S.jsx)(d.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,S.jsx)(b.Z,{})}),(0,S.jsx)(g.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,S.jsx)(Z.Z,{sx:{mt:3},children:(0,S.jsxs)("form",{onSubmit:B.handleSubmit,children:[(0,S.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(p.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{name:"name",fullWidth:!0,id:"name",label:"Full Name",autoFocus:!0,value:B.values.name,onChange:B.handleChange,error:B.touched.name&&Boolean(B.errors.name),helperText:B.touched.name&&B.errors.name,disabled:o})}),(0,S.jsx)(p.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,id:"username",label:"Email",name:"username",value:B.values.username,onChange:B.handleChange,error:B.touched.username&&Boolean(B.errors.username),helperText:B.touched.username&&B.errors.username,disabled:o})}),(0,S.jsx)(p.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,id:"mobile",label:"Mobile No",name:"mobile",value:B.values.mobile,onChange:B.handleChange,error:B.touched.mobile&&Boolean(B.errors.mobile),helperText:B.touched.mobile&&B.errors.mobile,disabled:o})}),(0,S.jsx)(p.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:B.values.password,onChange:B.handleChange,error:B.touched.password&&Boolean(B.errors.password),helperText:B.touched.password&&B.errors.password,disabled:o})}),(0,S.jsx)(p.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:B.values.confirmPassword,onChange:B.handleChange,error:B.touched.confirmPassword&&Boolean(B.errors.confirmPassword),helperText:B.touched.confirmPassword&&B.errors.confirmPassword,disabled:o})})]}),!o&&(0,S.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),o&&(0,S.jsx)("div",{style:{marginTop:"15px"},children:(0,S.jsx)(p.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:M,onChange:function(r){if(r.target.value.length<=6&&(N(r.target.value),O("")),6===r.target.value.length){var n={username:v,token:r.target.value};setTimeout((0,a.Z)(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y().post("/auth/verify",n).then((function(r){0===r.data.status&&(O(r.data.message),N(""),C.ZP.error(r.data.message,{duration:3e3})),1===r.data.status&&(C.ZP.success("Token Verification Successfull."),window.localStorage.setItem("sid",r.data.token),window.localStorage.setItem("rid",r.data.rid),setTimeout((function(){e.history.push("/profile")}),2e3))})).catch((function(e){console.log(e),429===e.response.status?C.ZP.error(e.response.data,{duration:6e3}):C.ZP.error("Some issue while OTP Verification!!")}));case 2:case"end":return r.stop()}}),r)}))),200)}},error:I.length>0,helperText:I,inputProps:{maxLength:6}})})}),!o&&(0,S.jsx)(p.ZP,{container:!0,justifyContent:"flex-end",children:(0,S.jsx)(p.ZP,{item:!0,children:(0,S.jsx)(f.Z,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})})]}),(0,S.jsx)(k,{sx:{mt:5}})]})]})}}}]);
//# sourceMappingURL=479.061b716b.chunk.js.map