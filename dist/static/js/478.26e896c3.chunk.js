"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[478],{2769:function(e,r,n){var a=n(885),i=n(4942),s=n(2791),t=n(7630),l=n(2065),o=n(4395),d=n(4554),c=n(4663),u=n(3400),h=n(890),m=n(8e3),x=n(6379),p=n(3786),f=n(1027),v=n(8008),Z=n(5403),j=n(9952),g=n(8128),b=n(2898),w=n(6151),C=n(2588),N=n(184),k=(0,t.ZP)("div")((function(e){var r=e.theme;return(0,i.Z)({position:"relative",borderRadius:r.shape.borderRadius,backgroundColor:(0,l.Fq)(r.palette.common.white,.15),"&:hover":{backgroundColor:(0,l.Fq)(r.palette.common.white,.25)},marginRight:r.spacing(2),marginLeft:0,width:"100%"},r.breakpoints.up("sm"),{marginLeft:r.spacing(3),width:"auto"})})),y=(0,t.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),P=(0,t.ZP)(m.ZP)((function(e){var r=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,i.Z)({padding:r.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(r.spacing(4),")"),transition:r.transitions.create("width"),width:"100%"},r.breakpoints.up("md"),{width:"20ch"})}}));r.Z=function(e){var r=s.useState(null),n=(0,a.Z)(r,2),i=n[0],t=n[1],l=s.useState(null),m=(0,a.Z)(l,2),T=m[0],z=m[1],A=Boolean(i),F=Boolean(T),M=function(e){t(e.currentTarget)},S=function(){z(null)},V=function(){t(null),S()},B=function(){e.history.push("/login")},L=function(){e.history.push("/cart")},W=function(){var e=window.localStorage.getItem("sid");return!(null===e||""===e||void 0===e)},q="primary-search-account-menu",O=(0,N.jsxs)(f.Z,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:q,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:A,onClose:V,children:[(0,N.jsx)(p.Z,{onClick:function(){W?e.history.push("/profile"):B(),V()},children:"Profile"}),W()&&(0,N.jsx)(p.Z,{onClick:function(){window.localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)},children:"Logout"})]}),R="primary-search-account-menu-mobile",D=(0,N.jsxs)(f.Z,{anchorEl:T,anchorOrigin:{vertical:"top",horizontal:"right"},id:R,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:F,onClose:S,children:[!W()&&(0,N.jsxs)(p.Z,{onClick:B,children:[(0,N.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:(0,N.jsx)(j.Z,{})}),(0,N.jsx)("p",{children:"Login"})]}),(0,N.jsxs)(p.Z,{children:[(0,N.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(){return L()},children:(0,N.jsx)(x.Z,{badgeContent:4,color:"error",children:(0,N.jsx)(C.Z,{})})}),(0,N.jsx)("p",{children:"Messages"})]}),(0,N.jsxs)(p.Z,{children:[(0,N.jsx)(u.Z,{size:"large","aria-label":"show 25 new notifications",color:"inherit",children:(0,N.jsx)(x.Z,{badgeContent:25,color:"error",children:(0,N.jsx)(g.Z,{})})}),(0,N.jsx)("p",{children:"Notifications"})]}),(0,N.jsxs)(p.Z,{onClick:M,children:[(0,N.jsx)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:(0,N.jsx)(j.Z,{})}),(0,N.jsx)("p",{children:"Profile"})]})]});return(0,N.jsxs)(d.Z,{sx:{flexGrow:1,paddingTop:"45px"},children:[(0,N.jsx)(o.Z,{position:"fixed",children:(0,N.jsxs)(c.Z,{children:[(0,N.jsx)(u.Z,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:(0,N.jsx)(v.Z,{})}),(0,N.jsx)(h.Z,{className:"pointer",variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},onClick:function(){e.history.push("/")},children:"My Store"}),(0,N.jsxs)(k,{children:[(0,N.jsx)(y,{children:(0,N.jsx)(Z.Z,{})}),(0,N.jsx)(P,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),(0,N.jsx)(d.Z,{sx:{flexGrow:1}}),(0,N.jsxs)(d.Z,{sx:{display:{xs:"none",md:"flex"}},children:[!W()&&(0,N.jsx)(w.Z,{variant:"contained",style:{marginRight:"20px"},onClick:B,children:"Login"}),(0,N.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(){return L()},children:(0,N.jsx)(x.Z,{badgeContent:5,color:"error",children:(0,N.jsx)(C.Z,{})})}),(0,N.jsx)(u.Z,{size:"large","aria-label":"show 25 new notifications",color:"inherit",children:(0,N.jsx)(x.Z,{badgeContent:25,color:"error",children:(0,N.jsx)(g.Z,{})})}),(0,N.jsx)(u.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":q,"aria-haspopup":"true",onClick:M,color:"inherit",children:(0,N.jsx)(j.Z,{})})]}),(0,N.jsx)(d.Z,{sx:{display:{xs:"flex",md:"none"}},children:(0,N.jsx)(u.Z,{size:"large","aria-label":"show more","aria-controls":R,"aria-haspopup":"true",onClick:function(e){z(e.currentTarget)},color:"inherit",children:(0,N.jsx)(b.Z,{})})})]})}),D,O]})}},8478:function(e,r,n){n.r(r);var a=n(1413),i=n(5861),s=n(885),t=n(7757),l=n.n(t),o=n(2791),d=n(2769),c=n(7391),u=n(3400),h=n(8096),m=n(4925),x=n(9321),p=n(3786),f=n(6151),v=(n(3780),n(1889)),Z=n(9439),j=n(905),g=n(5705),b=n(4569),w=n.n(b),C=n(2419),N=n(7247),k=n(1286),y=n(5585),P=n(1924),T=n(364),z=n(184),A=j.Ry({fullName:j.Z_().required("Name is mandatory field."),mobileNumber:j.Rx().min(1e9,"Mobile number cannot be less than 10 digits").max(9999999999,"Mobile Number cannot be more than 10 digits.").required("Mobile number is mandatory."),houseno:j.Z_().required("Please provide the relevant detail."),area:j.Z_().required("Please provide the relevant detail."),townCity:j.Z_().required("Please provide the relevant detail."),landmark:j.Z_().required("Please provide the relevant detail."),state:j.Z_().required("Please select a State name from dropdown."),pincode:j.Z_().test("len","Must be exactly 6 characters",(function(e){return void 0!==e&&6===e.length})).required("Pincode is required.")});r.default=(0,T.$j)(null,{successToast:P.Q,errorToast:P.J})((function(e){var r=(0,o.useState)(null),n=(0,s.Z)(r,2),t=n[0],j=n[1];(0,o.useEffect)((function(){var r=function(){var r=(0,i.Z)(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w().get("/user/profile").then((function(r){1===r.data.status?j(r.data.data):e.errorToast("Caught into some issue while fetching profile.")})).catch((function(r){e.errorToast("Caught into some issue while fetching profile."),console.log(r)}));case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}),[]);var b=(0,g.TA)({initialValues:{id:null,fullName:"",mobileNumber:"",houseno:"",area:"",townCity:"",landmark:"",state:"",pincode:""},validationSchema:A,onSubmit:function(){var e=(0,i.Z)(l().mark((function e(r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===r.id?P(r):T(r);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}),P=function(){var r=(0,i.Z)(l().mark((function r(n){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=8;break}if(!(t.Addresses.length>4)){r.next=5;break}e.successToast("Only 5 Addresses can be saved."),r.next=8;break;case 5:return delete n.id,r.next=8,w().post("/user/address",n).then((function(r){if(1===r.data.status){e.successToast(r.data.message);var n=t;j((0,a.Z)((0,a.Z)({},n),n.Addresses.unshift(r.data.user))),b.resetForm(),V(!1)}else e.errorToast(r.data.message)})).catch((function(r){e.errorToast("Caught into some issue while adding address.")}));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),T=function(){var r=(0,i.Z)(l().mark((function r(n){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w().put("/user/address",n).then((function(r){if(1===r.data.status){e.successToast(r.data.message),V(!1),b.resetForm();var i=t,s=i.Addresses.map((function(e){return e.id})).indexOf(n.id);i.Addresses.splice(s,1,n),j((0,a.Z)((0,a.Z)({},i),{},{Addresses:i.Addresses}))}else e.errorToast("Caught into some issue while deleting address.")})).catch((function(r){console.log(r),e.errorToast("Caught into some issue while deleting address.")}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),F=(0,o.useState)(!1),M=(0,s.Z)(F,2),S=M[0],V=M[1],B=function(){var r=(0,i.Z)(l().mark((function r(n){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w().delete("/user/address/".concat(n)).then((function(r){if(1===r.data.status){var i=t,s=i.Addresses.map((function(e){return e.id})).indexOf(n);i.Addresses.splice(s,1),j((0,a.Z)((0,a.Z)({},i),{},{Addresses:i.Addresses})),e.successToast(r.data.message),V(!1),b.resetForm()}else e.errorToast("Caught into some issue while deleting address.")})).catch((function(r){console.log(r),e.errorToast("Caught into some issue while deleting address.")}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,z.jsxs)("div",{children:[(0,z.jsx)(d.Z,(0,a.Z)({},e)),(0,z.jsx)("div",{className:"spacer"}),(0,z.jsx)("div",{className:"border-box",children:(0,z.jsxs)("div",{className:"upperForm",children:[(0,z.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,z.jsx)("h2",{style:{marginRight:"20px"},children:"User Details"})}),(0,z.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",label:"Name",variant:"outlined",fullWidth:!0,disabled:!0,value:null===t?"":t.name})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",label:"Email",variant:"outlined",fullWidth:!0,disabled:!0,value:null===t?"":t.username})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",label:"Mobile No.",variant:"outlined",fullWidth:!0,disabled:!0,value:null===t?"":t.mobile})})]}),(0,z.jsx)("hr",{style:{marginTop:"20px"}}),(0,z.jsxs)("div",{className:"loweBox",children:[(0,z.jsxs)("div",{className:"hor",children:[(0,z.jsx)("h2",{children:"Address"}),S?(0,z.jsx)(u.Z,{size:"large",color:"inherit",onClick:function(){V(!S),b.resetForm()},children:(0,z.jsx)(y.Z,{})}):(0,z.jsx)(u.Z,{size:"large",color:"inherit",onClick:function(){t&&(t.Addresses.length>4?(e.successToast("Only 5 Addresses can be saved."),V(!1)):V(!S)),b.resetForm()},children:(0,z.jsx)(C.Z,{})})]}),(0,z.jsx)("div",{className:"address",children:(0,z.jsx)(v.ZP,{container:!0,spacing:2,children:t&&t.Addresses.map((function(e){var r=e.id,n=e.fullName,a=e.houseno,i=e.landmark,s=e.mobileNumber,t=e.pincode,l=e.state,o=e.townCity,d=e.updatedAt,c=e.area;return(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsxs)("div",{className:"addressCard",children:[(0,z.jsxs)("div",{className:"partA",children:[(0,z.jsxs)("div",{className:"nameDiv hor",children:[(0,z.jsx)("div",{className:"fullName",children:n}),(0,z.jsx)(k.Z,{className:"pointer",onClick:function(){return function(e){var r=e.id,n=e.area,a=e.fullName,i=e.houseno,s=e.landmark,t=e.mobileNumber,l=e.pincode,o=e.state,d=e.townCity;b.setFieldValue("fullName",a,!0),b.setFieldValue("houseno",i,!0),b.setFieldValue("landmark",s,!0),b.setFieldValue("mobileNumber",t,!0),b.setFieldValue("pincode",l,!0),b.setFieldValue("state",o,!0),b.setFieldValue("townCity",d,!0),b.setFieldValue("id",r,!0),b.setFieldValue("area",n,!0),V(!0)}({id:r,fullName:n,houseno:a,landmark:i,mobileNumber:s,pincode:t,state:l,townCity:o,updatedAt:d,area:c})}}),(0,z.jsx)(N.Z,{className:"pointer",onClick:function(){return B(r)}})]}),(0,z.jsx)("div",{className:"mobile",children:s}),(0,z.jsxs)("div",{className:"addressLine1",children:[a,", ",c,", ",i,", ",o]}),(0,z.jsxs)("div",{className:"addressline2",children:[l,"-",t]})]}),(0,z.jsx)("div",{className:"partB",children:(0,z.jsxs)("div",{className:"lastUpdated",children:["Lastupdated on -"," ",new Date(d).toLocaleString()]})})]},r)})}))})}),(0,z.jsx)("div",{className:"lowerBox-address",children:S&&(0,z.jsx)("form",{onSubmit:b.handleSubmit,children:(0,z.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",label:"Full Name",name:"fullName",variant:"outlined",fullWidth:!0,value:b.values.fullName,onChange:b.handleChange,error:b.touched.fullName&&Boolean(b.errors.fullName),helperText:b.touched.fullName&&b.errors.fullName})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",label:"Mobile No.",name:"mobileNumber",variant:"outlined",fullWidth:!0,value:b.values.mobileNumber,onChange:b.handleChange,error:b.touched.mobileNumber&&Boolean(b.errors.mobileNumber),helperText:b.touched.mobileNumber&&b.errors.mobileNumber})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",name:"houseno",label:"House No.",variant:"outlined",fullWidth:!0,value:b.values.houseno,onChange:b.handleChange,error:b.touched.houseno&&Boolean(b.errors.houseno),helperText:b.touched.houseno&&b.errors.houseno})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",name:"area",label:"Area/Street",variant:"outlined",fullWidth:!0,value:b.values.area,onChange:b.handleChange,error:b.touched.area&&Boolean(b.errors.area),helperText:b.touched.area&&b.errors.area})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",name:"townCity",label:"Town/City/Village",variant:"outlined",fullWidth:!0,value:b.values.townCity,onChange:b.handleChange,error:b.touched.townCity&&Boolean(b.errors.townCity),helperText:b.touched.townCity&&b.errors.townCity})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",name:"landmark",label:"Landmark",variant:"outlined",fullWidth:!0,value:b.values.landmark,onChange:b.handleChange,error:b.touched.landmark&&Boolean(b.errors.landmark),helperText:b.touched.landmark&&b.errors.landmark})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsxs)(h.Z,{fullWidth:!0,children:[(0,z.jsx)(m.Z,{id:"demo-simple-select-label",children:"State"}),(0,z.jsx)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"state",value:b.values.state,onChange:b.handleChange,error:b.touched.state&&Boolean(b.errors.state),children:Z.D.map((function(e,r){return(0,z.jsx)(p.Z,{value:e,children:e},r)}))})]})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(c.Z,{id:"outlined-basic",name:"pincode",type:"number",label:"Pin Code",variant:"outlined",fullWidth:!0,inputProps:{maxLength:6},value:b.values.pincode,onChange:b.handleChange,error:b.touched.pincode&&Boolean(b.errors.pincode),helperText:b.touched.pincode&&b.errors.pincode})}),(0,z.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(f.Z,{type:"submit",variant:"outlined",fullWidth:!0,style:{height:"55px"},children:"Save Details"})})]})})})]})]})})]})}))},2419:function(e,r,n){var a=n(5318);r.Z=void 0;var i=a(n(5649)),s=n(184),t=(0,i.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");r.Z=t},7247:function(e,r,n){var a=n(5318);r.Z=void 0;var i=a(n(5649)),s=n(184),t=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");r.Z=t},1286:function(e,r,n){var a=n(5318);r.Z=void 0;var i=a(n(5649)),s=n(184),t=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=t},5585:function(e,r,n){var a=n(5318);r.Z=void 0;var i=a(n(5649)),s=n(184),t=(0,i.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");r.Z=t}}]);
//# sourceMappingURL=478.26e896c3.chunk.js.map