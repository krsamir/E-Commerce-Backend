"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[478],{2769:function(e,n,r){var a=r(885),i=r(4942),s=r(2791),t=r(7630),o=r(2065),l=r(4395),d=r(4554),c=r(4663),u=r(3400),h=r(890),m=r(8e3),x=r(6379),p=r(3786),f=r(1027),v=r(8008),Z=r(5403),j=r(9952),g=r(8128),b=r(2898),C=r(6151),w=r(2588),N=r(4569),k=r.n(N),y=r(184),P=(0,t.ZP)("div")((function(e){var n=e.theme;return(0,i.Z)({position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:(0,o.Fq)(n.palette.common.white,.15),"&:hover":{backgroundColor:(0,o.Fq)(n.palette.common.white,.25)},marginRight:n.spacing(2),marginLeft:0,width:"100%"},n.breakpoints.up("sm"),{marginLeft:n.spacing(3),width:"auto"})})),T=(0,t.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),A=(0,t.ZP)(m.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,i.Z)({padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},n.breakpoints.up("md"),{width:"20ch"})}}));n.Z=function(e){var n=s.useState({count:0,name:"",data:[]}),r=(0,a.Z)(n,2),i=r[0],t=r[1];(0,s.useEffect)((function(){k().get("/transaction/profile").then((function(e){t(e.data)})).catch((function(e){return console.log(e)}))}),[]);var o=s.useState(null),m=(0,a.Z)(o,2),N=m[0],z=m[1],S=s.useState(null),F=(0,a.Z)(S,2),M=F[0],B=F[1],V=s.useState(null),L=(0,a.Z)(V,2),W=L[0],q=L[1],E=Boolean(W),O=function(){q(null)},R=Boolean(N),D=Boolean(M),_=function(e){z(e.currentTarget)},H=function(){B(null)},I=function(){z(null),H()},G=function(){e.history.push("/login")},U=function(){var e=window.localStorage.getItem("sid");return!(null===e||""===e||void 0===e)},J="primary-search-account-menu",Q=(0,y.jsxs)(f.Z,{anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},id:J,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:R,onClose:I,children:[(0,y.jsx)(p.Z,{onClick:function(){U?e.history.push("/profile"):G(),I()},children:"Profile"}),U()&&(0,y.jsx)(p.Z,{onClick:function(){window.localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)},children:"Logout"})]}),$="primary-search-account-menu-mobile",K=(0,y.jsxs)(f.Z,{anchorEl:M,anchorOrigin:{vertical:"top",horizontal:"right"},id:$,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:D,onClose:H,children:[!U()&&(0,y.jsxs)(p.Z,{onClick:G,children:[(0,y.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)("p",{children:"Login"})]}),(0,y.jsxs)(p.Z,{children:[(0,y.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(){e.history.push("/cart")},children:(0,y.jsx)(x.Z,{badgeContent:i.count,color:"error",children:(0,y.jsx)(w.Z,{})})}),(0,y.jsx)("p",{children:"Messages"})]}),(0,y.jsxs)(p.Z,{children:[(0,y.jsx)(u.Z,{size:"large","aria-label":"show 25 new notifications",color:"inherit",children:(0,y.jsx)(x.Z,{badgeContent:25,color:"error",children:(0,y.jsx)(g.Z,{})})}),(0,y.jsx)("p",{children:"Notifications"})]}),(0,y.jsxs)(p.Z,{onClick:_,children:[(0,y.jsx)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:(0,y.jsx)(j.Z,{})}),(0,y.jsx)("p",{children:"Profile"})]})]});return(0,y.jsxs)(d.Z,{sx:{flexGrow:1,paddingTop:"45px"},children:[(0,y.jsx)(l.Z,{position:"fixed",children:(0,y.jsxs)(c.Z,{children:[(0,y.jsx)(u.Z,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:(0,y.jsx)(v.Z,{})}),(0,y.jsx)(h.Z,{className:"pointer",variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},onClick:function(){e.history.push("/")},children:"My Store"}),(0,y.jsxs)(P,{children:[(0,y.jsx)(T,{children:(0,y.jsx)(Z.Z,{})}),(0,y.jsx)(A,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),(0,y.jsx)(d.Z,{sx:{flexGrow:1}}),(0,y.jsxs)(d.Z,{sx:{display:{xs:"none",md:"flex"}},children:[!U()&&(0,y.jsx)(C.Z,{variant:"contained",style:{marginRight:"20px"},onClick:G,children:"Login"}),(0,y.jsxs)(f.Z,{id:"basic-menu",anchorEl:W,open:E,onClose:O,MenuListProps:{"aria-labelledby":"basic-button"},children:[i.data.map((function(n){var r=n.name,a=(n.actualprice,n.offerprice,n.productCode);return(0,y.jsx)(p.Z,{onClick:function(){O(),e.history.push("/product/".concat(a))},sx:{width:"250px"},divider:!0,children:r},a)})),i.count>i.data.length&&(0,y.jsx)(p.Z,{children:"See All..."})]}),(0,y.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(e){q(e.currentTarget)},children:(0,y.jsx)(x.Z,{badgeContent:i.count,color:"error",children:(0,y.jsx)(w.Z,{})})}),(0,y.jsx)(u.Z,{size:"large","aria-label":"show 25 new notifications",color:"inherit",children:(0,y.jsx)(x.Z,{badgeContent:25,color:"error",children:(0,y.jsx)(g.Z,{})})}),(0,y.jsx)(u.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":J,"aria-haspopup":"true",onClick:_,color:"inherit",children:(0,y.jsx)(j.Z,{})})]}),(0,y.jsx)(d.Z,{sx:{display:{xs:"flex",md:"none"}},children:(0,y.jsx)(u.Z,{size:"large","aria-label":"show more","aria-controls":$,"aria-haspopup":"true",onClick:function(e){B(e.currentTarget)},color:"inherit",children:(0,y.jsx)(b.Z,{})})})]})}),K,Q]})}},8478:function(e,n,r){r.r(n);var a=r(1413),i=r(5861),s=r(885),t=r(7757),o=r.n(t),l=r(2791),d=r(2769),c=r(7391),u=r(3400),h=r(8096),m=r(4925),x=r(9321),p=r(3786),f=r(6151),v=(r(3780),r(1889)),Z=r(9439),j=r(905),g=r(5705),b=r(4569),C=r.n(b),w=r(2419),N=r(7247),k=r(1286),y=r(5585),P=r(1924),T=r(364),A=r(184),z=j.Ry({fullName:j.Z_().required("Name is mandatory field."),mobileNumber:j.Rx().min(1e9,"Mobile number cannot be less than 10 digits").max(9999999999,"Mobile Number cannot be more than 10 digits.").required("Mobile number is mandatory."),houseno:j.Z_().required("Please provide the relevant detail."),area:j.Z_().required("Please provide the relevant detail."),townCity:j.Z_().required("Please provide the relevant detail."),landmark:j.Z_().required("Please provide the relevant detail."),state:j.Z_().required("Please select a State name from dropdown."),pincode:j.Z_().test("len","Must be exactly 6 characters",(function(e){return void 0!==e&&6===e.length})).required("Pincode is required.")});n.default=(0,T.$j)(null,{successToast:P.Q,errorToast:P.J})((function(e){var n=(0,l.useState)(null),r=(0,s.Z)(n,2),t=r[0],j=r[1];(0,l.useEffect)((function(){var n=function(){var n=(0,i.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C().get("/user/profile").then((function(n){1===n.data.status?j(n.data.data):e.errorToast("Caught into some issue while fetching profile.")})).catch((function(n){e.errorToast("Caught into some issue while fetching profile."),console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var b=(0,g.TA)({initialValues:{id:null,fullName:"",mobileNumber:"",houseno:"",area:"",townCity:"",landmark:"",state:"",pincode:""},validationSchema:z,onSubmit:function(){var e=(0,i.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===n.id?P(n):T(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),P=function(){var n=(0,i.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=8;break}if(!(t.Addresses.length>4)){n.next=5;break}e.successToast("Only 5 Addresses can be saved."),n.next=8;break;case 5:return delete r.id,n.next=8,C().post("/user/address",r).then((function(n){if(1===n.data.status){e.successToast(n.data.message);var r=t;j((0,a.Z)((0,a.Z)({},r),r.Addresses.unshift(n.data.user))),b.resetForm(),B(!1)}else e.errorToast(n.data.message)})).catch((function(n){e.errorToast("Caught into some issue while adding address.")}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),T=function(){var n=(0,i.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C().put("/user/address",r).then((function(n){if(1===n.data.status){e.successToast(n.data.message),B(!1),b.resetForm();var i=t,s=i.Addresses.map((function(e){return e.id})).indexOf(r.id);i.Addresses.splice(s,1,r),j((0,a.Z)((0,a.Z)({},i),{},{Addresses:i.Addresses}))}else e.errorToast("Caught into some issue while deleting address.")})).catch((function(n){console.log(n),e.errorToast("Caught into some issue while deleting address.")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),S=(0,l.useState)(!1),F=(0,s.Z)(S,2),M=F[0],B=F[1],V=function(){var n=(0,i.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C().delete("/user/address/".concat(r)).then((function(n){if(1===n.data.status){var i=t,s=i.Addresses.map((function(e){return e.id})).indexOf(r);i.Addresses.splice(s,1),j((0,a.Z)((0,a.Z)({},i),{},{Addresses:i.Addresses})),e.successToast(n.data.message),B(!1),b.resetForm()}else e.errorToast("Caught into some issue while deleting address.")})).catch((function(n){console.log(n),e.errorToast("Caught into some issue while deleting address.")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,A.jsxs)("div",{children:[(0,A.jsx)(d.Z,(0,a.Z)({},e)),(0,A.jsx)("div",{className:"spacer"}),(0,A.jsx)("div",{className:"border-box",children:(0,A.jsxs)("div",{className:"upperForm",children:[(0,A.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,A.jsx)("h2",{style:{marginRight:"20px"},children:"User Details"})}),(0,A.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",label:"Name",variant:"outlined",fullWidth:!0,disabled:!0,value:null===t?"":t.name})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",label:"Email",variant:"outlined",fullWidth:!0,disabled:!0,value:null===t?"":t.username})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",label:"Mobile No.",variant:"outlined",fullWidth:!0,disabled:!0,value:null===t?"":t.mobile})})]}),(0,A.jsx)("hr",{style:{marginTop:"20px"}}),(0,A.jsxs)("div",{className:"loweBox",children:[(0,A.jsxs)("div",{className:"hor",children:[(0,A.jsx)("h2",{children:"Address"}),M?(0,A.jsx)(u.Z,{size:"large",color:"inherit",onClick:function(){B(!M),b.resetForm()},children:(0,A.jsx)(y.Z,{})}):(0,A.jsx)(u.Z,{size:"large",color:"inherit",onClick:function(){t&&(t.Addresses.length>4?(e.successToast("Only 5 Addresses can be saved."),B(!1)):B(!M)),b.resetForm()},children:(0,A.jsx)(w.Z,{})})]}),(0,A.jsx)("div",{className:"address",children:(0,A.jsx)(v.ZP,{container:!0,spacing:2,children:t&&t.Addresses.map((function(e){var n=e.id,r=e.fullName,a=e.houseno,i=e.landmark,s=e.mobileNumber,t=e.pincode,o=e.state,l=e.townCity,d=e.updatedAt,c=e.area;return(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsxs)("div",{className:"addressCard",children:[(0,A.jsxs)("div",{className:"partA",children:[(0,A.jsxs)("div",{className:"nameDiv hor",children:[(0,A.jsx)("div",{className:"fullName",children:r}),(0,A.jsx)(k.Z,{className:"pointer",onClick:function(){return function(e){var n=e.id,r=e.area,a=e.fullName,i=e.houseno,s=e.landmark,t=e.mobileNumber,o=e.pincode,l=e.state,d=e.townCity;b.setFieldValue("fullName",a,!0),b.setFieldValue("houseno",i,!0),b.setFieldValue("landmark",s,!0),b.setFieldValue("mobileNumber",t,!0),b.setFieldValue("pincode",o,!0),b.setFieldValue("state",l,!0),b.setFieldValue("townCity",d,!0),b.setFieldValue("id",n,!0),b.setFieldValue("area",r,!0),B(!0)}({id:n,fullName:r,houseno:a,landmark:i,mobileNumber:s,pincode:t,state:o,townCity:l,updatedAt:d,area:c})}}),(0,A.jsx)(N.Z,{className:"pointer",onClick:function(){return V(n)}})]}),(0,A.jsx)("div",{className:"mobile",children:s}),(0,A.jsxs)("div",{className:"addressLine1",children:[a,", ",c,", ",i,", ",l]}),(0,A.jsxs)("div",{className:"addressline2",children:[o,"-",t]})]}),(0,A.jsx)("div",{className:"partB",children:(0,A.jsxs)("div",{className:"lastUpdated",children:["Lastupdated on -"," ",new Date(d).toLocaleString()]})})]},n)})}))})}),(0,A.jsx)("div",{className:"lowerBox-address",children:M&&(0,A.jsx)("form",{onSubmit:b.handleSubmit,children:(0,A.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",label:"Full Name",name:"fullName",variant:"outlined",fullWidth:!0,value:b.values.fullName,onChange:b.handleChange,error:b.touched.fullName&&Boolean(b.errors.fullName),helperText:b.touched.fullName&&b.errors.fullName})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",label:"Mobile No.",name:"mobileNumber",variant:"outlined",fullWidth:!0,value:b.values.mobileNumber,onChange:b.handleChange,error:b.touched.mobileNumber&&Boolean(b.errors.mobileNumber),helperText:b.touched.mobileNumber&&b.errors.mobileNumber})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",name:"houseno",label:"House No.",variant:"outlined",fullWidth:!0,value:b.values.houseno,onChange:b.handleChange,error:b.touched.houseno&&Boolean(b.errors.houseno),helperText:b.touched.houseno&&b.errors.houseno})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",name:"area",label:"Area/Street",variant:"outlined",fullWidth:!0,value:b.values.area,onChange:b.handleChange,error:b.touched.area&&Boolean(b.errors.area),helperText:b.touched.area&&b.errors.area})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",name:"townCity",label:"Town/City/Village",variant:"outlined",fullWidth:!0,value:b.values.townCity,onChange:b.handleChange,error:b.touched.townCity&&Boolean(b.errors.townCity),helperText:b.touched.townCity&&b.errors.townCity})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",name:"landmark",label:"Landmark",variant:"outlined",fullWidth:!0,value:b.values.landmark,onChange:b.handleChange,error:b.touched.landmark&&Boolean(b.errors.landmark),helperText:b.touched.landmark&&b.errors.landmark})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsxs)(h.Z,{fullWidth:!0,children:[(0,A.jsx)(m.Z,{id:"demo-simple-select-label",children:"State"}),(0,A.jsx)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"state",value:b.values.state,onChange:b.handleChange,error:b.touched.state&&Boolean(b.errors.state),children:Z.D.map((function(e,n){return(0,A.jsx)(p.Z,{value:e,children:e},n)}))})]})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(c.Z,{id:"outlined-basic",name:"pincode",type:"number",label:"Pin Code",variant:"outlined",fullWidth:!0,inputProps:{maxLength:6},value:b.values.pincode,onChange:b.handleChange,error:b.touched.pincode&&Boolean(b.errors.pincode),helperText:b.touched.pincode&&b.errors.pincode})}),(0,A.jsx)(v.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,A.jsx)(f.Z,{type:"submit",variant:"outlined",fullWidth:!0,style:{height:"55px"},children:"Save Details"})})]})})})]})]})})]})}))},2419:function(e,n,r){var a=r(5318);n.Z=void 0;var i=a(r(5649)),s=r(184),t=(0,i.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=t},7247:function(e,n,r){var a=r(5318);n.Z=void 0;var i=a(r(5649)),s=r(184),t=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=t},1286:function(e,n,r){var a=r(5318);n.Z=void 0;var i=a(r(5649)),s=r(184),t=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=t},5585:function(e,n,r){var a=r(5318);n.Z=void 0;var i=a(r(5649)),s=r(184),t=(0,i.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");n.Z=t}}]);
//# sourceMappingURL=478.7f832280.chunk.js.map