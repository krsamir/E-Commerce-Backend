"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[83],{6083:function(n,e,r){r.r(e),r.d(e,{default:function(){return Z}});var i=r(1413),t=r(2791),a=r(2769),o=r(885),c=r(2982),s=r(4569),l=r.n(s);var d=r(1889),u=(r(3780),r(9424)),h=r(9265),p=r(1924),x=r(364),f=r(184);var g=(0,x.$j)(null,{successToast:p.Q,errorToast:p.J})((function(n){var e=n.data,r=e.name,i=e.offerprice,t=e.actualprice,a=e.Images,o=e.productCode,c=function(e){n.history.push("/product/".concat(e))};return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"productCard",children:[(0,f.jsx)("img",{src:0===a.length||null===a[0].data?u:"data:image/*;base64,".concat(a[0].data),alt:r,loading:"lazy",className:"cardImage pointer",onClick:function(){return c(o)}}),(0,f.jsxs)("div",{className:"lowerCard hor",children:[(0,f.jsxs)("div",{className:"lowerCard_left",children:[(0,f.jsx)("div",{className:"name pointer",onClick:function(){return c(o)},children:r}),(0,f.jsxs)("div",{className:"priceOffer",children:["Price:\xa0",(0,f.jsx)("span",{children:i}),"  ",(0,f.jsx)("strike",{children:t}),(0,f.jsxs)("span",{children:["\xa0\xa0\xa0",Number((t-i)/t*100).toPrecision(4)," ","% off"]})]})]}),(0,f.jsxs)("div",{className:"lowerCard_right",children:[" ",(0,f.jsx)(h.Z,{className:"pointer",onClick:function(){n.successToast("Product added to cart Successfully!!")}})]})]})]})})}));var j=function(n){var e=(0,t.useState)(1),r=(0,o.Z)(e,2),a=r[0],s=r[1],u=function(n){var e=(0,t.useState)(!0),r=(0,o.Z)(e,2),i=r[0],a=r[1],s=(0,t.useState)(!1),d=(0,o.Z)(s,2),u=d[0],h=d[1],p=(0,t.useState)([]),x=(0,o.Z)(p,2),f=x[0],g=x[1],j=(0,t.useState)(!1),Z=(0,o.Z)(j,2),m=Z[0],v=Z[1];return(0,t.useEffect)((function(){a(!0),h(!1),l()({url:"/product?page=".concat(n),method:"GET"}).then((function(n){g((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(n.data.data))})),v(n.data.data.length>0),h(!1),a(!1)})).catch((function(n){h(!0),console.log(n)}))}),[n]),{loading:i,data:f,error:u,hasMore:m}}(a),h=u.loading,p=u.data,x=u.hasMore,j=(0,t.useRef)(),Z=(0,t.useCallback)((function(n){h||(j.current&&j.current.disconnect(),j.current=new IntersectionObserver((function(n){n[0].isIntersecting&&x&&s((function(n){return n+1}))})),n&&j.current.observe(n))}),[h,x]);return(0,f.jsx)("div",{style:{margin:"40px 20px 10px 20px"},children:(0,f.jsxs)(d.ZP,{container:!0,spacing:2,children:[p.map((function(e,r){return p.length===r+1?(0,f.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,ref:Z,children:(0,f.jsx)(g,(0,i.Z)({data:e},n))},r):(0,f.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,f.jsx)(g,(0,i.Z)({data:e},n))},r)})),(0,f.jsx)("div",{children:h&&(0,f.jsx)("h2",{children:"Loading..."})})]})})};var Z=function(n){return(0,f.jsxs)("div",{children:[(0,f.jsx)(a.Z,(0,i.Z)({},n)),(0,f.jsx)(j,(0,i.Z)({},n))]})}},2769:function(n,e,r){var i=r(885),t=r(4942),a=r(2791),o=r(7630),c=r(2065),s=r(4395),l=r(4554),d=r(4663),u=r(3400),h=r(890),p=r(8e3),x=r(6379),f=r(3786),g=r(1027),j=r(8008),Z=r(5403),m=r(9952),v=r(8128),b=r(2898),w=r(6151),C=r(2588),k=r(4569),y=r.n(k),z=r(184),S=(0,o.ZP)("div")((function(n){var e=n.theme;return(0,t.Z)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,c.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,c.Fq)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"})})),P=(0,o.ZP)("div")((function(n){return{padding:n.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),N=(0,o.ZP)(p.ZP)((function(n){var e=n.theme;return{color:"inherit","& .MuiInputBase-input":(0,t.Z)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));e.Z=function(n){var e=a.useState({count:0,name:"",data:[]}),r=(0,i.Z)(e,2),t=r[0],o=r[1];(0,a.useEffect)((function(){y().get("/transaction/profile").then((function(n){o(n.data)})).catch((function(n){return console.log(n)}))}),[]);var c=a.useState(null),p=(0,i.Z)(c,2),k=p[0],L=p[1],M=a.useState(null),T=(0,i.Z)(M,2),E=T[0],I=T[1],O=a.useState(null),R=(0,i.Z)(O,2),B=R[0],H=R[1],G=Boolean(B),V=function(){H(null)},q=Boolean(k),A=Boolean(E),F=function(n){L(n.currentTarget)},_=function(){I(null)},J=function(){L(null),_()},Q=function(){n.history.push("/login")},W=function(){var n=window.localStorage.getItem("sid");return!(null===n||""===n||void 0===n)},$="primary-search-account-menu",D=(0,z.jsxs)(g.Z,{anchorEl:k,anchorOrigin:{vertical:"top",horizontal:"right"},id:$,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:q,onClose:J,children:[(0,z.jsx)(f.Z,{onClick:function(){W?n.history.push("/profile"):Q(),J()},children:"Profile"}),W()&&(0,z.jsx)(f.Z,{onClick:function(){window.localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)},children:"Logout"})]}),K="primary-search-account-menu-mobile",U=(0,z.jsxs)(g.Z,{anchorEl:E,anchorOrigin:{vertical:"top",horizontal:"right"},id:K,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:A,onClose:_,children:[!W()&&(0,z.jsxs)(f.Z,{onClick:Q,children:[(0,z.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:(0,z.jsx)(m.Z,{})}),(0,z.jsx)("p",{children:"Login"})]}),(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(){n.history.push("/cart")},children:(0,z.jsx)(x.Z,{badgeContent:t.count,color:"error",children:(0,z.jsx)(C.Z,{})})}),(0,z.jsx)("p",{children:"Messages"})]}),(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(u.Z,{size:"large","aria-label":"show 25 new notifications",color:"inherit",children:(0,z.jsx)(x.Z,{badgeContent:25,color:"error",children:(0,z.jsx)(v.Z,{})})}),(0,z.jsx)("p",{children:"Notifications"})]}),(0,z.jsxs)(f.Z,{onClick:F,children:[(0,z.jsx)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:(0,z.jsx)(m.Z,{})}),(0,z.jsx)("p",{children:"Profile"})]})]});return(0,z.jsxs)(l.Z,{sx:{flexGrow:1,paddingTop:"45px"},children:[(0,z.jsx)(s.Z,{position:"fixed",children:(0,z.jsxs)(d.Z,{children:[(0,z.jsx)(u.Z,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:(0,z.jsx)(j.Z,{})}),(0,z.jsx)(h.Z,{className:"pointer",variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},onClick:function(){n.history.push("/")},children:"My Store"}),(0,z.jsxs)(S,{children:[(0,z.jsx)(P,{children:(0,z.jsx)(Z.Z,{})}),(0,z.jsx)(N,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),(0,z.jsx)(l.Z,{sx:{flexGrow:1}}),(0,z.jsxs)(l.Z,{sx:{display:{xs:"none",md:"flex"}},children:[!W()&&(0,z.jsx)(w.Z,{variant:"contained",style:{marginRight:"20px"},onClick:Q,children:"Login"}),(0,z.jsxs)(g.Z,{id:"basic-menu",anchorEl:B,open:G,onClose:V,MenuListProps:{"aria-labelledby":"basic-button"},children:[t.data.map((function(e){var r=e.name,i=(e.actualprice,e.offerprice,e.productCode);return(0,z.jsx)(f.Z,{onClick:function(){V(),n.history.push("/product/".concat(i))},sx:{width:"250px"},divider:!0,children:r},i)})),t.count>t.data.length&&(0,z.jsx)(f.Z,{children:"See All..."})]}),(0,z.jsx)(u.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(n){H(n.currentTarget)},children:(0,z.jsx)(x.Z,{badgeContent:t.count,color:"error",children:(0,z.jsx)(C.Z,{})})}),(0,z.jsx)(u.Z,{size:"large","aria-label":"show 25 new notifications",color:"inherit",children:(0,z.jsx)(x.Z,{badgeContent:25,color:"error",children:(0,z.jsx)(v.Z,{})})}),(0,z.jsx)(u.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":$,"aria-haspopup":"true",onClick:F,color:"inherit",children:(0,z.jsx)(m.Z,{})})]}),(0,z.jsx)(l.Z,{sx:{display:{xs:"flex",md:"none"}},children:(0,z.jsx)(u.Z,{size:"large","aria-label":"show more","aria-controls":K,"aria-haspopup":"true",onClick:function(n){I(n.currentTarget)},color:"inherit",children:(0,z.jsx)(b.Z,{})})})]})}),U,D]})}},9265:function(n,e,r){var i=r(5318);e.Z=void 0;var t=i(r(5649)),a=r(184),o=(0,t.default)((0,a.jsx)("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"}),"AddShoppingCart");e.Z=o},9424:function(n,e,r){n.exports=r.p+"static/media/image.29f386547c4b3ea7d515.jpg"}}]);
//# sourceMappingURL=83.77fe357f.chunk.js.map