"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[479],{3479:function(e,a,r){r.r(a);var t=r(5861),n=r(885),s=r(1413),o=r(7757),i=r.n(o),d=r(2791),l=r(3044),u=r(6151),c=r(4708),m=r(7391),h=r(5705),x=r(905),p=r(3060),f=r(1889),b=r(4554),g=r(403),Z=r(890),v=r(6445),w=r(1979),j=r(7012),P=r(4569),W=r.n(P),S=r(4882),y=r(1924),k=r(364),T=r(184),C=x.Ry({name:x.Z_().required("Name is mandatory field."),username:x.Z_().email("Enter a valid email").required("Email is required"),mobile:x.Rx().min(1e9,"Mobile number cannot be less than 10 digits").max(9999999999,"Mobile Number cannot be more than 10 digits.").required("Mobile number is mandatory."),password:x.Z_().min(8,"Password should be of minimum 8 characters length").required("Password is required"),confirmPassword:x.Z_().oneOf([x.iH("password"),null],"Passwords must match")});function M(e){return(0,T.jsxs)(Z.Z,(0,s.Z)((0,s.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,T.jsx)(p.Z,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var G=(0,w.Z)();a.default=(0,k.$j)(null,{successToast:y.Q,errorToast:y.J})((function(e){var a=(0,d.useState)(!1),r=(0,n.Z)(a,2),s=r[0],o=r[1],x=(0,d.useState)(""),w=(0,n.Z)(x,2),P=w[0],y=w[1],k=(0,h.TA)({initialValues:{name:"",username:"",mobile:"",password:"",confirmPassword:""},validationSchema:C,onSubmit:function(){var a=(0,t.Z)(i().mark((function a(r){var t;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=r.username,y(t),a.next=4,W().post("/auth/register",r).then((function(a){1===a.data.status&&(e.successToast(a.data.message),k.resetForm(),o(!0))})).catch((function(a){typeof a.response.data.reason===typeof[]?(0,S.ZP)((function(){return(0,T.jsx)("span",{children:a.response.data.reason.map((function(e,a){return(0,T.jsx)("div",{children:e},a)}))})}),{duration:9e3,position:"top-center",style:{borderRadius:"10px",background:"#333",color:"#fff"}}):e.errorToast(a.response.data.message)}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}),R=(0,d.useState)(""),N=(0,n.Z)(R,2),q=N[0],B=N[1],L=(0,d.useState)(""),E=(0,n.Z)(L,2),F=E[0],O=E[1];return(0,T.jsx)(j.Z,{theme:G,children:(0,T.jsxs)(v.Z,{component:"main",maxWidth:"xs",children:[(0,T.jsx)(c.ZP,{}),(0,T.jsxs)(b.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,T.jsx)(l.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,T.jsx)(g.Z,{})}),(0,T.jsx)(Z.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,T.jsx)(b.Z,{sx:{mt:3},children:(0,T.jsxs)("form",{onSubmit:k.handleSubmit,children:[(0,T.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(f.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z,{name:"name",fullWidth:!0,id:"name",label:"Full Name",autoFocus:!0,value:k.values.name,onChange:k.handleChange,error:k.touched.name&&Boolean(k.errors.name),helperText:k.touched.name&&k.errors.name,disabled:s})}),(0,T.jsx)(f.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z,{fullWidth:!0,id:"username",label:"Email",name:"username",value:k.values.username,onChange:k.handleChange,error:k.touched.username&&Boolean(k.errors.username),helperText:k.touched.username&&k.errors.username,disabled:s})}),(0,T.jsx)(f.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z,{fullWidth:!0,id:"mobile",label:"Mobile No",name:"mobile",value:k.values.mobile,onChange:k.handleChange,error:k.touched.mobile&&Boolean(k.errors.mobile),helperText:k.touched.mobile&&k.errors.mobile,disabled:s})}),(0,T.jsx)(f.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z,{fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:k.values.password,onChange:k.handleChange,error:k.touched.password&&Boolean(k.errors.password),helperText:k.touched.password&&k.errors.password,disabled:s})}),(0,T.jsx)(f.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z,{fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:k.values.confirmPassword,onChange:k.handleChange,error:k.touched.confirmPassword&&Boolean(k.errors.confirmPassword),helperText:k.touched.confirmPassword&&k.errors.confirmPassword,disabled:s})})]}),!s&&(0,T.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),s&&(0,T.jsx)("div",{style:{marginTop:"15px"},children:(0,T.jsx)(f.ZP,{item:!0,xs:12,children:(0,T.jsx)(m.Z,{fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:q,onChange:function(a){if(a.target.value.length<=6&&(B(a.target.value),O("")),6===a.target.value.length){var r={username:P,token:a.target.value};setTimeout((0,t.Z)(i().mark((function a(){return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W().post("/auth/verify",r).then((function(a){0===a.data.status&&(O(a.data.message),B(""),e.errorToast(a.data.message3000)),1===a.data.status&&(e.successToast("Token Verification Successfull."),window.localStorage.setItem("sid",a.data.token),window.localStorage.setItem("rid",a.data.rid),setTimeout((function(){e.history.push("/profile")}),2e3))})).catch((function(a){console.log(a),429===a.response.status?e.errorToast(a.response.data,{duration:6e3}):e.errorToast("Some issue while OTP Verification!!")}));case 2:case"end":return a.stop()}}),a)}))),200)}},error:F.length>0,helperText:F,inputProps:{maxLength:6}})})}),!s&&(0,T.jsx)(f.ZP,{container:!0,justifyContent:"flex-end",children:(0,T.jsx)(f.ZP,{item:!0,children:(0,T.jsx)(p.Z,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})})]}),(0,T.jsx)(M,{sx:{mt:5}})]})})}))},6445:function(e,a,r){r.d(a,{Z:function(){return b}});var t=r(4942),n=r(3366),s=r(7462),o=r(2791),i=r(8182),d=r(767),l=r(3736),u=r(7630),c=r(5159);function m(e){return(0,c.Z)("MuiContainer",e)}(0,r(208).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var h=r(4036),x=r(184),p=["className","component","disableGutters","fixed","maxWidth"],f=(0,u.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,a){var r=e.ownerState;return[a.root,a["maxWidth".concat((0,h.Z)(String(r.maxWidth)))],r.fixed&&a.fixed,r.disableGutters&&a.disableGutters]}})((function(e){var a=e.theme,r=e.ownerState;return(0,s.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!r.disableGutters&&(0,t.Z)({paddingLeft:a.spacing(2),paddingRight:a.spacing(2)},a.breakpoints.up("sm"),{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}))}),(function(e){var a=e.theme;return e.ownerState.fixed&&Object.keys(a.breakpoints.values).reduce((function(e,r){var t=a.breakpoints.values[r];return 0!==t&&(e[a.breakpoints.up(r)]={maxWidth:"".concat(t).concat(a.breakpoints.unit)}),e}),{})}),(function(e){var a=e.theme,r=e.ownerState;return(0,s.Z)({},"xs"===r.maxWidth&&(0,t.Z)({},a.breakpoints.up("xs"),{maxWidth:Math.max(a.breakpoints.values.xs,444)}),r.maxWidth&&"xs"!==r.maxWidth&&(0,t.Z)({},a.breakpoints.up(r.maxWidth),{maxWidth:"".concat(a.breakpoints.values[r.maxWidth]).concat(a.breakpoints.unit)}))})),b=o.forwardRef((function(e,a){var r=(0,l.Z)({props:e,name:"MuiContainer"}),t=r.className,o=r.component,u=void 0===o?"div":o,c=r.disableGutters,b=void 0!==c&&c,g=r.fixed,Z=void 0!==g&&g,v=r.maxWidth,w=void 0===v?"lg":v,j=(0,n.Z)(r,p),P=(0,s.Z)({},r,{component:u,disableGutters:b,fixed:Z,maxWidth:w}),W=function(e){var a=e.classes,r=e.fixed,t=e.disableGutters,n=e.maxWidth,s={root:["root",n&&"maxWidth".concat((0,h.Z)(String(n))),r&&"fixed",t&&"disableGutters"]};return(0,d.Z)(s,m,a)}(P);return(0,x.jsx)(f,(0,s.Z)({as:u,ownerState:P,className:(0,i.Z)(W.root,t),ref:a},j))}))}}]);
//# sourceMappingURL=479.a4d49753.chunk.js.map