"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[544],{1544:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(5861),o=n(1413),a=n(7757),s=n.n(a),i=n(2791),c=n(3044),u=n(6151),l=n(4708),d=n(7391),p=n(3060),f=n(703),m=n(4554),g=n(1889),h=n(403),v=n(890),x=n(1979),Z=n(7012),w=n(885),j=n(5289),T=n(7123),b=n(9157),S=n(1691),y=n(5661),C=n(4569),P=n.n(C),k=n(1924),D=n(364),M=n(184);var R=(0,D.$j)(null,{successToast:k.Q,errorToast:k.J})((function(e){var t=(0,i.useState)(!1),n=(0,w.Z)(t,2),o=n[0],a=n[1],c=(0,i.useState)(!1),l=(0,w.Z)(c,2),p=l[0],f=l[1],m=(0,i.useState)(""),g=(0,w.Z)(m,2),h=g[0],v=g[1],x=(0,i.useState)(""),Z=(0,w.Z)(x,2),C=Z[0],k=Z[1],D=(0,i.useState)(""),R=(0,w.Z)(D,2),A=R[0],F=R[1],O=(0,i.useState)(""),W=(0,w.Z)(O,2),E=W[0],N=W[1],I=(0,i.useState)(!0),q=(0,w.Z)(I,2),V=q[0],Y=q[1],J=function(){a(!1)},L=function(){var t=(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P().post("/auth/reset",{email:C}).then((function(t){var n=t.data;0===n.status&&e.errorToast(n.message),1===n.status&&(f(!0),e.successToast(n.message))})).catch((function(t){console.log(t),e.errorToast("Some issue while Sending OTP.")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P().post("/auth/reset/final",{email:C,token:h,password:E}).then((function(t){var n=t.data;1===n.status&&(e.successToast(n.message),J()),0===n.status&&e.errorToast(n.data.message,3e3)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,M.jsxs)("div",{children:[(0,M.jsx)(u.Z,{variant:"text",onClick:function(){k(""),v(""),f(!1),Y(!0),N(""),F(""),a(!0)},children:"Forgot Password ?"}),(0,M.jsxs)(j.Z,{open:o,onClose:function(e,t){"backdropClick"!==t&&J()},disableEscapeKeyDown:!0,children:[(0,M.jsx)(y.Z,{children:p?"Enter OTP":"Forgot Password ?"}),(0,M.jsxs)(b.Z,{children:[(0,M.jsx)(S.Z,{children:p?"Please enter the OTP recieved in your email before it expires.":"Please provide your Email. An Otp will sent to the provided email-id."}),p?(0,M.jsxs)("div",{children:[(0,M.jsx)(d.Z,{fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:h,onChange:function(t){if(t.target.value.length<=6&&(v(t.target.value),F("")),6===t.target.value.length){var n={username:C,token:t.target.value};setTimeout((0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P().post("/auth/reset/verify",n).then((function(t){Y(!0),0===t.data.status&&(F(t.data.message),v(""),e.errorToast(t.data.message)),1===t.data.status&&(e.successToast("Token Verification Successfull."),Y(!1))})).catch((function(t){Y(!0),console.log(t),429===t.response.status?e.errorToast(t.response.data):e.errorToast("Some issue while OTP Verification!!")}));case 2:case"end":return t.stop()}}),t)}))),200)}},error:A.length>0,helperText:A,style:{marginTop:"20px"},inputProps:{maxLength:6}}),(0,M.jsx)(d.Z,{fullWidth:!0,id:"password",label:"Password",name:"password",value:E,helperText:"Password should be minimum 8 characters.",onChange:function(e){N(e.target.value)},style:{marginTop:"20px"},disabled:V})]}):(0,M.jsx)(d.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard",value:C,onChange:function(e){return k(e.target.value)}})]}),(0,M.jsxs)(T.Z,{children:[(0,M.jsx)(u.Z,{onClick:J,children:"Cancel"}),p?(0,M.jsx)(u.Z,{onClick:Q,disabled:V&&E.length<8,children:"Approve"}):(0,M.jsx)(u.Z,{onClick:L,children:"Send"})]})]})]})}));function A(e){return(0,M.jsxs)(v.Z,(0,o.Z)((0,o.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,M.jsx)(p.Z,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var F=(0,x.Z)();var O=(0,D.$j)(null,{successToast:k.Q,errorToast:k.J})((function(e){var t=function(){var t=(0,r.Z)(s().mark((function t(n){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=new FormData(n.currentTarget),o={email:r.get("email"),password:r.get("password")},t.next=5,P().post("/auth/login",o).then((function(t){if(0===t.data.status&&e.errorToast(t.data.message),1===t.data.status){e.successToast(t.data.message);var n=t.data.token,r=t.data.rid;window.localStorage.setItem("sid",n),window.localStorage.setItem("rid",r),setTimeout((function(){e.history.push("/")}),1e3)}})).catch((function(t){console.log(t),e.errorToast("Some issue while logging you in!!")}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,M.jsx)(Z.Z,{theme:F,children:(0,M.jsxs)(g.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,M.jsx)(l.ZP,{}),(0,M.jsx)(g.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,M.jsx)(g.ZP,{item:!0,xs:12,sm:8,md:5,component:f.Z,elevation:6,square:!0,children:(0,M.jsxs)(m.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,M.jsx)(c.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,M.jsx)(h.Z,{})}),(0,M.jsx)(v.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,M.jsxs)(m.Z,{component:"form",noValidate:!0,onSubmit:t,sx:{mt:1},children:[(0,M.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,M.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,M.jsx)(u.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),(0,M.jsxs)(g.ZP,{container:!0,children:[(0,M.jsx)(g.ZP,{item:!0,xs:!0,children:(0,M.jsx)(R,(0,o.Z)({},e))}),(0,M.jsx)(g.ZP,{item:!0,children:(0,M.jsx)(p.Z,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]}),(0,M.jsx)(A,{sx:{mt:5}})]})]})})]})})}))},7123:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(3366),o=n(7462),a=n(2791),s=n(8182),i=n(767),c=n(7630),u=n(3736),l=n(5159);function d(e){return(0,l.Z)("MuiDialogActions",e)}(0,n(208).Z)("MuiDialogActions",["root","spacing"]);var p=n(184),f=["className","disableSpacing"],m=(0,c.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),g=a.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiDialogActions"}),a=n.className,c=n.disableSpacing,l=void 0!==c&&c,g=(0,r.Z)(n,f),h=(0,o.Z)({},n,{disableSpacing:l}),v=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,i.Z)(n,d,t)}(h);return(0,p.jsx)(m,(0,o.Z)({className:(0,s.Z)(v.root,a),ownerState:h,ref:t},g))}))},1691:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(3366),o=n(7462),a=n(2791),s=n(767),i=n(7630),c=n(3736),u=n(890),l=n(5159);function d(e){return(0,l.Z)("MuiDialogContentText",e)}(0,n(208).Z)("MuiDialogContentText",["root"]);var p=n(184),f=["children"],m=(0,i.ZP)(u.Z,{shouldForwardProp:function(e){return(0,i.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),g=a.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiDialogContentText"}),a=(0,r.Z)(n,f),i=function(e){var t=e.classes,n=(0,s.Z)({root:["root"]},d,t);return(0,o.Z)({},t,n)}(a);return(0,p.jsx)(m,(0,o.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a},n,{classes:i}))}))},9157:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(4942),o=n(3366),a=n(7462),s=n(2791),i=n(8182),c=n(767),u=n(7630),l=n(3736),d=n(5159);function p(e){return(0,d.Z)("MuiDialogContent",e)}(0,n(208).Z)("MuiDialogContent",["root","dividers"]);var f=n(7673),m=n(184),g=["className","dividers"],h=(0,u.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}:(0,r.Z)({},".".concat(f.Z.root," + &"),{paddingTop:0}))})),v=s.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiDialogContent"}),r=n.className,s=n.dividers,u=void 0!==s&&s,d=(0,o.Z)(n,g),f=(0,a.Z)({},n,{dividers:u}),v=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,c.Z)(n,p,t)}(f);return(0,m.jsx)(h,(0,a.Z)({className:(0,i.Z)(v.root,r),ownerState:f,ref:t},d))}))}}]);
//# sourceMappingURL=544.8f52dbf6.chunk.js.map